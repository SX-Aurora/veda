IF(VEDA_DIST_TYPE STREQUAL VEOS)
	INCLUDE(${CMAKE_CURRENT_LIST_DIR}/veos.cmake)
ELSEIF(VEDA_DIST_TYPE STREQUAL LOCAL)
	INCLUDE(${CMAKE_CURRENT_LIST_DIR}/local.cmake)
ELSEIF(VEDA_DIST_TYPE STREQUAL PYTHON)
	INCLUDE(${CMAKE_CURRENT_LIST_DIR}/python.cmake)
ELSE()
	MESSAGE(FATAL_ERROR "Unsupported VEDA_DIST_TYPE=${VEDA_DIST_TYPE}")
ENDIF()

## Install SymLink -------------------------------------------------------------
IF(NOT (VEDA_DIST_TYPE STREQUAL PYTHON))
	ADD_CUSTOM_TARGET(dist COMMAND cpack3 WORKING_DIRECTORY ${CMAKE_BINARY_DIR})

	INSTALL(FILES
		${Tungl_DIR}/api.h
		${Tungl_DIR}/c.h
		${Tungl_DIR}/colors.h
		${Tungl_DIR}/config.h
		${Tungl_DIR}/cxx.h
		${Tungl_DIR}/types.h
		${Tungl_DIR}/version.h
		DESTINATION ${VEDA_INSTALL_PATH}/tungle/include)
	INSTALL(FILES ${Tungl_LIBRARY} DESTINATION ${VEDA_INSTALL_PATH}/lib64)
	ILLYRIAN_INSTALL_SYMLINK(${VEDA_INSTALL_PATH} veda)

	## Configure CPack -------------------------------------------------------------
	SET(CPACK_PACKAGE_VERSION ${VEDA_VERSION})
	SET(CPACK_GENERATOR "RPM")
	SET(CPACK_PACKAGE_RELEASE "1")
	SET(CPACK_RPM_PACKAGE_RELEASE_DIST ON)
	SET(CPACK_PACKAGE_CONTACT "Nicolas Weber")
	SET(CPACK_PACKAGE_VENDOR "NEC Laboratories Europe")
	SET(CPACK_PACKAGING_INSTALL_PREFIX ${CMAKE_INSTALL_PREFIX})
	EXECUTE_PROCESS(COMMAND rpm --eval %{dist} OUTPUT_VARIABLE RPM_DIST OUTPUT_STRIP_TRAILING_WHITESPACE)
	SET(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_PACKAGE_RELEASE}${RPM_DIST}.${CMAKE_SYSTEM_PROCESSOR}")
	SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "VEDA Hybrid Programming API")
	SET(CPACK_PACKAGE_HOMEPAGE_URL "https://github.com/sx-aurora/veda")
	INCLUDE(CPack)
ENDIF()
